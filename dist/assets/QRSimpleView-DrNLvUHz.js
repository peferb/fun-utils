import{d as xt,r as $,e as Qt,h as Gt,o as L,c as _,f as b,t as H,m as Wt,u as Xt,g as j,v as dt,a as M,w as vt,P as Zt,i as bt,F as Bt,j as Nt,k as te,l as ee,b as W,n as ne}from"./index-DAmmulVZ.js";var J={},re=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Mt={},A={};let pt;const oe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];A.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};A.getSymbolTotalCodewords=function(e){return oe[e]};A.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};A.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');pt=e};A.isKanjiModeEnabled=function(){return typeof pt<"u"};A.toSJIS=function(e){return pt(e)};var et={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+i)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,r){if(t.isValid(n))return n;try{return e(n)}catch{return r}}})(et);function Rt(){this.buffer=[],this.length=0}Rt.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let i=0;i<e;i++)this.putBit((t>>>e-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ie=Rt;function Y(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Y.prototype.set=function(t,e,i,n){const r=t*this.size+e;this.data[r]=i,n&&(this.reservedBit[r]=!0)};Y.prototype.get=function(t,e){return this.data[t*this.size+e]};Y.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i};Y.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var le=Y,Lt={};(function(t){const e=A.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,o=e(n),a=o===145?26:Math.ceil((o-13)/(2*r-2))*2,s=[o-7];for(let l=1;l<r-1;l++)s[l]=s[l-1]-a;return s.push(6),s.reverse()},t.getPositions=function(n){const r=[],o=t.getRowColCoords(n),a=o.length;for(let s=0;s<a;s++)for(let l=0;l<a;l++)s===0&&l===0||s===0&&l===a-1||s===a-1&&l===0||r.push([o[s],o[l]]);return r}})(Lt);var _t={};const se=A.getSymbolSize,At=7;_t.getPositions=function(e){const i=se(e);return[[0,0],[i-At,0],[0,i-At]]};var Ut={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const o=r.size;let a=0,s=0,l=0,u=null,c=null;for(let E=0;E<o;E++){s=l=0,u=c=null;for(let m=0;m<o;m++){let d=r.get(E,m);d===u?s++:(s>=5&&(a+=e.N1+(s-5)),u=d,s=1),d=r.get(m,E),d===c?l++:(l>=5&&(a+=e.N1+(l-5)),c=d,l=1)}s>=5&&(a+=e.N1+(s-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(r){const o=r.size;let a=0;for(let s=0;s<o-1;s++)for(let l=0;l<o-1;l++){const u=r.get(s,l)+r.get(s,l+1)+r.get(s+1,l)+r.get(s+1,l+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(r){const o=r.size;let a=0,s=0,l=0;for(let u=0;u<o;u++){s=l=0;for(let c=0;c<o;c++)s=s<<1&2047|r.get(u,c),c>=10&&(s===1488||s===93)&&a++,l=l<<1&2047|r.get(c,u),c>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(r){let o=0;const a=r.data.length;for(let l=0;l<a;l++)o+=r.data[l];return Math.abs(Math.ceil(o*100/a/5)-10)*e.N4};function i(n,r,o){switch(n){case t.Patterns.PATTERN000:return(r+o)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(r+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return r*o%2+r*o%3===0;case t.Patterns.PATTERN110:return(r*o%2+r*o%3)%2===0;case t.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(r,o){const a=o.size;for(let s=0;s<a;s++)for(let l=0;l<a;l++)o.isReserved(l,s)||o.xor(l,s,i(r,l,s))},t.getBestMask=function(r,o){const a=Object.keys(t.Patterns).length;let s=0,l=1/0;for(let u=0;u<a;u++){o(u),t.applyMask(u,r);const c=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(u,r),c<l&&(l=c,s=u)}return s}})(Ut);var nt={};const U=et,x=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Q=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nt.getBlocksCount=function(e,i){switch(i){case U.L:return x[(e-1)*4+0];case U.M:return x[(e-1)*4+1];case U.Q:return x[(e-1)*4+2];case U.H:return x[(e-1)*4+3];default:return}};nt.getTotalCodewordsCount=function(e,i){switch(i){case U.L:return Q[(e-1)*4+0];case U.M:return Q[(e-1)*4+1];case U.Q:return Q[(e-1)*4+2];case U.H:return Q[(e-1)*4+3];default:return}};var Ft={},rt={};const q=new Uint8Array(512),X=new Uint8Array(256);(function(){let e=1;for(let i=0;i<255;i++)q[i]=e,X[e]=i,e<<=1,e&256&&(e^=285);for(let i=255;i<512;i++)q[i]=q[i-255]})();rt.log=function(e){if(e<1)throw new Error("log("+e+")");return X[e]};rt.exp=function(e){return q[e]};rt.mul=function(e,i){return e===0||i===0?0:q[X[e]+X[i]]};(function(t){const e=rt;t.mul=function(n,r){const o=new Uint8Array(n.length+r.length-1);for(let a=0;a<n.length;a++)for(let s=0;s<r.length;s++)o[a+s]^=e.mul(n[a],r[s]);return o},t.mod=function(n,r){let o=new Uint8Array(n);for(;o.length-r.length>=0;){const a=o[0];for(let l=0;l<r.length;l++)o[l]^=e.mul(r[l],a);let s=0;for(;s<o.length&&o[s]===0;)s++;o=o.slice(s)}return o},t.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let o=0;o<n;o++)r=t.mul(r,new Uint8Array([1,e.exp(o)]));return r}})(Ft);const Vt=Ft;function wt(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}wt.prototype.initialize=function(e){this.degree=e,this.genPoly=Vt.generateECPolynomial(this.degree)};wt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(e.length+this.degree);i.set(e);const n=Vt.mod(i,this.genPoly),r=this.degree-n.length;if(r>0){const o=new Uint8Array(this.degree);return o.set(n,r),o}return n};var ae=wt,Dt={},F={},yt={};yt.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var P={};const kt="[0-9]+",ue="[A-Z $%*+\\-./:]+";let K="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";K=K.replace(/u/g,"\\u");const ce="(?:(?![A-Z0-9 $%*+\\-./:]|"+K+`)(?:.|[\r
]))+`;P.KANJI=new RegExp(K,"g");P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");P.BYTE=new RegExp(ce,"g");P.NUMERIC=new RegExp(kt,"g");P.ALPHANUMERIC=new RegExp(ue,"g");const de=new RegExp("^"+K+"$"),fe=new RegExp("^"+kt+"$"),ge=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");P.testKanji=function(e){return de.test(e)};P.testNumeric=function(e){return fe.test(e)};P.testAlphanumeric=function(e){return ge.test(e)};(function(t){const e=yt,i=P;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return i.testNumeric(o)?t.NUMERIC:i.testAlphanumeric(o)?t.ALPHANUMERIC:i.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(o,a){if(t.isValid(o))return o;try{return n(o)}catch{return a}}})(F);(function(t){const e=A,i=nt,n=et,r=F,o=yt,a=7973,s=e.getBCHDigit(a);function l(m,d,p){for(let w=1;w<=40;w++)if(d<=t.getCapacity(w,p,m))return w}function u(m,d){return r.getCharCountIndicator(m,d)+4}function c(m,d){let p=0;return m.forEach(function(w){const N=u(w.mode,d);p+=N+w.getBitsLength()}),p}function E(m,d){for(let p=1;p<=40;p++)if(c(m,p)<=t.getCapacity(p,d,r.MIXED))return p}t.from=function(d,p){return o.isValid(d)?parseInt(d,10):p},t.getCapacity=function(d,p,w){if(!o.isValid(d))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=r.BYTE);const N=e.getSymbolTotalCodewords(d),h=i.getTotalCodewordsCount(d,p),y=(N-h)*8;if(w===r.MIXED)return y;const g=y-u(w,d);switch(w){case r.NUMERIC:return Math.floor(g/10*3);case r.ALPHANUMERIC:return Math.floor(g/11*2);case r.KANJI:return Math.floor(g/13);case r.BYTE:default:return Math.floor(g/8)}},t.getBestVersionForData=function(d,p){let w;const N=n.from(p,n.M);if(Array.isArray(d)){if(d.length>1)return E(d,N);if(d.length===0)return 1;w=d[0]}else w=d;return l(w.mode,w.getLength(),N)},t.getEncodedBits=function(d){if(!o.isValid(d)||d<7)throw new Error("Invalid QR Code version");let p=d<<12;for(;e.getBCHDigit(p)-s>=0;)p^=a<<e.getBCHDigit(p)-s;return d<<12|p}})(Dt);var Ot={};const ft=A,zt=1335,he=21522,St=ft.getBCHDigit(zt);Ot.getEncodedBits=function(e,i){const n=e.bit<<3|i;let r=n<<10;for(;ft.getBCHDigit(r)-St>=0;)r^=zt<<ft.getBCHDigit(r)-St;return(n<<10|r)^he};var $t={};const me=F;function V(t){this.mode=me.NUMERIC,this.data=t.toString()}V.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(e){let i,n,r;for(i=0;i+3<=this.data.length;i+=3)n=this.data.substr(i,3),r=parseInt(n,10),e.put(r,10);const o=this.data.length-i;o>0&&(n=this.data.substr(i),r=parseInt(n,10),e.put(r,o*3+1))};var pe=V;const we=F,lt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function D(t){this.mode=we.ALPHANUMERIC,this.data=t}D.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};D.prototype.getLength=function(){return this.data.length};D.prototype.getBitsLength=function(){return D.getBitsLength(this.data.length)};D.prototype.write=function(e){let i;for(i=0;i+2<=this.data.length;i+=2){let n=lt.indexOf(this.data[i])*45;n+=lt.indexOf(this.data[i+1]),e.put(n,11)}this.data.length%2&&e.put(lt.indexOf(this.data[i]),6)};var ye=D,Ce=function(e){for(var i=[],n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319&&n>r+1){var a=e.charCodeAt(r+1);a>=56320&&a<=57343&&(o=(o-55296)*1024+a-56320+65536,r+=1)}if(o<128){i.push(o);continue}if(o<2048){i.push(o>>6|192),i.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){i.push(o>>12|224),i.push(o>>6&63|128),i.push(o&63|128);continue}if(o>=65536&&o<=1114111){i.push(o>>18|240),i.push(o>>12&63|128),i.push(o>>6&63|128),i.push(o&63|128);continue}i.push(239,191,189)}return new Uint8Array(i).buffer};const Ee=Ce,ve=F;function k(t){this.mode=ve.BYTE,typeof t=="string"&&(t=Ee(t)),this.data=new Uint8Array(t)}k.getBitsLength=function(e){return e*8};k.prototype.getLength=function(){return this.data.length};k.prototype.getBitsLength=function(){return k.getBitsLength(this.data.length)};k.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)};var be=k;const Be=F,Ne=A;function O(t){this.mode=Be.KANJI,this.data=t}O.getBitsLength=function(e){return e*13};O.prototype.getLength=function(){return this.data.length};O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)};O.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=Ne.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),t.put(i,13)}};var Ae=O,Ht={exports:{}};(function(t){var e={single_source_shortest_paths:function(i,n,r){var o={},a={};a[n]=0;var s=e.PriorityQueue.make();s.push(n,0);for(var l,u,c,E,m,d,p,w,N;!s.empty();){l=s.pop(),u=l.value,E=l.cost,m=i[u]||{};for(c in m)m.hasOwnProperty(c)&&(d=m[c],p=E+d,w=a[c],N=typeof a[c]>"u",(N||w>p)&&(a[c]=p,s.push(c,p),o[c]=u))}if(typeof r<"u"&&typeof a[r]>"u"){var h=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(h)}return o},extract_shortest_path_from_predecessor_list:function(i,n){for(var r=[],o=n;o;)r.push(o),i[o],o=i[o];return r.reverse(),r},find_path:function(i,n,r){var o=e.single_source_shortest_paths(i,n,r);return e.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(i){var n=e.PriorityQueue,r={},o;i=i||{};for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r.queue=[],r.sorter=i.sorter||n.default_sorter,r},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){var r={value:i,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Ht);var Se=Ht.exports;(function(t){const e=F,i=pe,n=ye,r=be,o=Ae,a=P,s=A,l=Se;function u(h){return unescape(encodeURIComponent(h)).length}function c(h,y,g){const f=[];let C;for(;(C=h.exec(g))!==null;)f.push({data:C[0],index:C.index,mode:y,length:C[0].length});return f}function E(h){const y=c(a.NUMERIC,e.NUMERIC,h),g=c(a.ALPHANUMERIC,e.ALPHANUMERIC,h);let f,C;return s.isKanjiModeEnabled()?(f=c(a.BYTE,e.BYTE,h),C=c(a.KANJI,e.KANJI,h)):(f=c(a.BYTE_KANJI,e.BYTE,h),C=[]),y.concat(g,f,C).sort(function(B,S){return B.index-S.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function m(h,y){switch(y){case e.NUMERIC:return i.getBitsLength(h);case e.ALPHANUMERIC:return n.getBitsLength(h);case e.KANJI:return o.getBitsLength(h);case e.BYTE:return r.getBitsLength(h)}}function d(h){return h.reduce(function(y,g){const f=y.length-1>=0?y[y.length-1]:null;return f&&f.mode===g.mode?(y[y.length-1].data+=g.data,y):(y.push(g),y)},[])}function p(h){const y=[];for(let g=0;g<h.length;g++){const f=h[g];switch(f.mode){case e.NUMERIC:y.push([f,{data:f.data,mode:e.ALPHANUMERIC,length:f.length},{data:f.data,mode:e.BYTE,length:f.length}]);break;case e.ALPHANUMERIC:y.push([f,{data:f.data,mode:e.BYTE,length:f.length}]);break;case e.KANJI:y.push([f,{data:f.data,mode:e.BYTE,length:u(f.data)}]);break;case e.BYTE:y.push([{data:f.data,mode:e.BYTE,length:u(f.data)}])}}return y}function w(h,y){const g={},f={start:{}};let C=["start"];for(let v=0;v<h.length;v++){const B=h[v],S=[];for(let R=0;R<B.length;R++){const T=B[R],z=""+v+R;S.push(z),g[z]={node:T,lastCount:0},f[z]={};for(let it=0;it<C.length;it++){const I=C[it];g[I]&&g[I].node.mode===T.mode?(f[I][z]=m(g[I].lastCount+T.length,T.mode)-m(g[I].lastCount,T.mode),g[I].lastCount+=T.length):(g[I]&&(g[I].lastCount=T.length),f[I][z]=m(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,y))}}C=S}for(let v=0;v<C.length;v++)f[C[v]].end=0;return{map:f,table:g}}function N(h,y){let g;const f=e.getBestModeForData(h);if(g=e.from(y,f),g!==e.BYTE&&g.bit<f.bit)throw new Error('"'+h+'" cannot be encoded with mode '+e.toString(g)+`.
 Suggested mode is: `+e.toString(f));switch(g===e.KANJI&&!s.isKanjiModeEnabled()&&(g=e.BYTE),g){case e.NUMERIC:return new i(h);case e.ALPHANUMERIC:return new n(h);case e.KANJI:return new o(h);case e.BYTE:return new r(h)}}t.fromArray=function(y){return y.reduce(function(g,f){return typeof f=="string"?g.push(N(f,null)):f.data&&g.push(N(f.data,f.mode)),g},[])},t.fromString=function(y,g){const f=E(y,s.isKanjiModeEnabled()),C=p(f),v=w(C,g),B=l.find_path(v.map,"start","end"),S=[];for(let R=1;R<B.length-1;R++)S.push(v.table[B[R]].node);return t.fromArray(d(S))},t.rawSplit=function(y){return t.fromArray(E(y,s.isKanjiModeEnabled()))}})($t);const ot=A,st=et,Te=ie,Pe=le,Ie=Lt,Me=_t,gt=Ut,ht=nt,Re=ae,Z=Dt,Le=Ot,_e=F,at=$t;function Ue(t,e){const i=t.size,n=Me.getPositions(e);for(let r=0;r<n.length;r++){const o=n[r][0],a=n[r][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||i<=o+s))for(let l=-1;l<=7;l++)a+l<=-1||i<=a+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?t.set(o+s,a+l,!0,!0):t.set(o+s,a+l,!1,!0))}}function Fe(t){const e=t.size;for(let i=8;i<e-8;i++){const n=i%2===0;t.set(i,6,n,!0),t.set(6,i,n,!0)}}function Ve(t,e){const i=Ie.getPositions(e);for(let n=0;n<i.length;n++){const r=i[n][0],o=i[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?t.set(r+a,o+s,!0,!0):t.set(r+a,o+s,!1,!0)}}function De(t,e){const i=t.size,n=Z.getEncodedBits(e);let r,o,a;for(let s=0;s<18;s++)r=Math.floor(s/3),o=s%3+i-8-3,a=(n>>s&1)===1,t.set(r,o,a,!0),t.set(o,r,a,!0)}function ut(t,e,i){const n=t.size,r=Le.getEncodedBits(e,i);let o,a;for(o=0;o<15;o++)a=(r>>o&1)===1,o<6?t.set(o,8,a,!0):o<8?t.set(o+1,8,a,!0):t.set(n-15+o,8,a,!0),o<8?t.set(8,n-o-1,a,!0):o<9?t.set(8,15-o-1+1,a,!0):t.set(8,15-o-1,a,!0);t.set(n-8,8,1,!0)}function ke(t,e){const i=t.size;let n=-1,r=i-1,o=7,a=0;for(let s=i-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!t.isReserved(r,s-l)){let u=!1;a<e.length&&(u=(e[a]>>>o&1)===1),t.set(r,s-l,u),o--,o===-1&&(a++,o=7)}if(r+=n,r<0||i<=r){r-=n,n=-n;break}}}function Oe(t,e,i){const n=new Te;i.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),_e.getCharCountIndicator(l.mode,t)),l.write(n)});const r=ot.getSymbolTotalCodewords(t),o=ht.getTotalCodewordsCount(t,e),a=(r-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const s=(a-n.getLengthInBits())/8;for(let l=0;l<s;l++)n.put(l%2?17:236,8);return ze(n,t,e)}function ze(t,e,i){const n=ot.getSymbolTotalCodewords(e),r=ht.getTotalCodewordsCount(e,i),o=n-r,a=ht.getBlocksCount(e,i),s=n%a,l=a-s,u=Math.floor(n/a),c=Math.floor(o/a),E=c+1,m=u-c,d=new Re(m);let p=0;const w=new Array(a),N=new Array(a);let h=0;const y=new Uint8Array(t.buffer);for(let B=0;B<a;B++){const S=B<l?c:E;w[B]=y.slice(p,p+S),N[B]=d.encode(w[B]),p+=S,h=Math.max(h,S)}const g=new Uint8Array(n);let f=0,C,v;for(C=0;C<h;C++)for(v=0;v<a;v++)C<w[v].length&&(g[f++]=w[v][C]);for(C=0;C<m;C++)for(v=0;v<a;v++)g[f++]=N[v][C];return g}function $e(t,e,i,n){let r;if(Array.isArray(t))r=at.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const c=at.rawSplit(t);u=Z.getBestVersionForData(c,i)}r=at.fromString(t,u||40)}else throw new Error("Invalid data");const o=Z.getBestVersionForData(r,i);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const a=Oe(e,i,r),s=ot.getSymbolSize(e),l=new Pe(s);return Ue(l,e),Fe(l),Ve(l,e),ut(l,i,0),e>=7&&De(l,e),ke(l,a),isNaN(n)&&(n=gt.getBestMask(l,ut.bind(null,l,i))),gt.applyMask(n,l),ut(l,i,n),{modules:l,version:e,errorCorrectionLevel:i,maskPattern:n,segments:r}}Mt.create=function(e,i){if(typeof e>"u"||e==="")throw new Error("No input text");let n=st.M,r,o;return typeof i<"u"&&(n=st.from(i.errorCorrectionLevel,st.M),r=Z.from(i.version),o=gt.from(i.maskPattern),i.toSJISFunc&&ot.setToSJISFunction(i.toSJISFunc)),$e(e,r,n,o)};var jt={},Ct={};(function(t){function e(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:o,scale:o?4:a,margin:r,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},t.getImageWidth=function(n,r){const o=t.getScale(n,r);return Math.floor((n+r.margin*2)*o)},t.qrToImageData=function(n,r,o){const a=r.modules.size,s=r.modules.data,l=t.getScale(a,o),u=Math.floor((a+o.margin*2)*l),c=o.margin*l,E=[o.color.light,o.color.dark];for(let m=0;m<u;m++)for(let d=0;d<u;d++){let p=(m*u+d)*4,w=o.color.light;if(m>=c&&d>=c&&m<u-c&&d<u-c){const N=Math.floor((m-c)/l),h=Math.floor((d-c)/l);w=E[s[N*a+h]?1:0]}n[p++]=w.r,n[p++]=w.g,n[p++]=w.b,n[p]=w.a}}})(Ct);(function(t){const e=Ct;function i(r,o,a){r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,a,s){let l=s,u=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(u=n()),l=e.getOptions(l);const c=e.getImageWidth(o.modules.size,l),E=u.getContext("2d"),m=E.createImageData(c,c);return e.qrToImageData(m.data,o,l),i(E,u,c),E.putImageData(m,0,0),u},t.renderToDataURL=function(o,a,s){let l=s;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const u=t.render(o,a,l),c=l.type||"image/png",E=l.rendererOpts||{};return u.toDataURL(c,E.quality)}})(jt);var qt={};const He=Ct;function Tt(t,e){const i=t.a/255,n=e+'="'+t.hex+'"';return i<1?n+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function ct(t,e,i){let n=t+e;return typeof i<"u"&&(n+=" "+i),n}function je(t,e,i){let n="",r=0,o=!1,a=0;for(let s=0;s<t.length;s++){const l=Math.floor(s%e),u=Math.floor(s/e);!l&&!o&&(o=!0),t[s]?(a++,s>0&&l>0&&t[s-1]||(n+=o?ct("M",l+i,.5+u+i):ct("m",r,0),r=0,o=!1),l+1<e&&t[s+1]||(n+=ct("h",a),a=0)):r++}return n}qt.render=function(e,i,n){const r=He.getOptions(i),o=e.modules.size,a=e.modules.data,s=o+r.margin*2,l=r.color.light.a?"<path "+Tt(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+Tt(r.color.dark,"stroke")+' d="'+je(a,o,r.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof n=="function"&&n(null,m),m};const qe=re,mt=Mt,Kt=jt,Ke=qt;function Et(t,e,i,n,r){const o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!qe())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(r=i,i=e,e=n=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=i,i=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(i=e,e=n=void 0):a===2&&!e.getContext&&(n=i,i=e,e=void 0),new Promise(function(l,u){try{const c=mt.create(i,n);l(t(c,e,n))}catch(c){u(c)}})}try{const l=mt.create(i,n);r(null,t(l,e,n))}catch(l){r(l)}}J.create=mt.create;J.toCanvas=Et.bind(null,Kt.render);J.toDataURL=Et.bind(null,Kt.renderToDataURL);J.toString=Et.bind(null,function(t,e,i){return Ke.render(t,i)});var Je=Object.defineProperty,Ye=Object.defineProperties,xe=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,Jt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,Pt=(t,e,i)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Qe=(t,e)=>{for(var i in e||(e={}))Jt.call(e,i)&&Pt(t,i,e[i]);if(tt)for(var i of tt(e))Yt.call(e,i)&&Pt(t,i,e[i]);return t},Ge=(t,e)=>Ye(t,xe(e)),We=(t,e)=>{var i={};for(var n in t)Jt.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&tt)for(var n of tt(t))e.indexOf(n)<0&&Yt.call(t,n)&&(i[n]=t[n]);return i};const Xe=["low","medium","quartile","high","L","M","Q","H"],Ze=[0,1,2,3,4,5,6,7],tn=["alphanumeric","numeric","kanji","byte"],en=["image/png","image/jpeg","image/webp"],nn=40;var rn=xt({props:{version:{type:Number,validator:t=>t===Number.parseInt(String(t),10)&&t>=1&&t<=nn},errorCorrectionLevel:{type:String,validator:t=>Xe.includes(t)},maskPattern:{type:Number,validator:t=>Ze.includes(t)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:t=>["dark","light"].every(e=>["string","undefined"].includes(typeof t[e])),required:!0},type:{type:String,validator:t=>en.includes(t),required:!0},quality:{type:Number,validator:t=>t===Number.parseFloat(String(t))&&t>=0&&t<=1,required:!1},value:{type:[String,Array],required:!0,validator(t){return typeof t=="string"?!0:t.every(e=>typeof e.data=="string"&&"mode"in e&&e.mode&&tn.includes(e.mode))}}},setup(t,{attrs:e,emit:i}){const n=$();return Qt(t,()=>{const o=t,{quality:a,value:s}=o,l=We(o,["quality","value"]);J.toDataURL(s,Object.assign(l,a==null||{renderOptions:{quality:a}})).then(u=>{n.value=u,i("change",u)}).catch(u=>i("error",u))},{immediate:!0}),()=>Gt("img",Ge(Qe({},e),{src:n.value}))}});const on={class:"number-range-container"},ln=["for"],sn={class:"row"},an=["id","value","min","max","step"],un=["value","step"],G={__name:"NumberRange",props:{modelValue:{},label:{type:String,default:"Label"},min:{type:Number,default:0},max:{type:Number,default:1e3},step:{default:void 0},id:{type:String,required:!0},type:{validator(t){return["float","int"].includes(t)},default:"int"}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,n=e,r=o=>i.type==="int"?Number.parseInt(o):Number.parseFloat(Number.parseFloat(o).toFixed(2));return(o,a)=>(L(),_("div",on,[b("label",{for:t.id},H(t.label),9,ln),b("div",sn,[b("input",{id:t.id,value:i.modelValue,type:"range",min:t.min,max:t.max,step:t.step||"any",onInput:a[0]||(a[0]=s=>n("update:modelValue",r(s.target.value))),style:{width:"50%"}},null,40,an),b("input",{type:"number",value:i.modelValue,step:t.step||"any",onInput:a[1]||(a[1]=s=>n("update:modelValue",r(s.target.value))),style:{width:"50%"}},null,40,un)])]))}},cn={class:"color-selector-container"},dn=["for"],fn={class:"row"},gn=["id"],It={__name:"ColorSelector",props:Wt({modelValue:{},label:{type:String,default:"Label"},id:{type:String,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Xt(t,"modelValue");return(i,n)=>(L(),_("div",cn,[b("label",{for:t.id},H(t.label),9,dn),b("div",fn,[j(b("input",{id:t.id,"onUpdate:modelValue":n[0]||(n[0]=r=>e.value=r),type:"color",style:{width:"50%"}},null,8,gn),[[dt,e.value]]),j(b("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=r=>e.value=r),style:{width:"50%"}},null,512),[[dt,e.value]])])]))}},hn={class:"qr-simple"},mn=b("p",null,[W(" Using rx-ts vue-qrcode: "),b("a",{href:"https://github.com/rx-ts/vue/tree/master/packages/vue-qrcode"},"Github"),W(", "),b("a",{href:"https://www.npmjs.com/package/vue-qrcode"},"NPM"),W(". ")],-1),pn={class:"form"},wn=b("label",{for:"input-value"},"Value",-1),yn=b("label",{for:"input-value"},"Correction level",-1),Cn=["value"],En=b("label",{for:"input-file-type"},"Filetype",-1),vn=["value"],bn=b("hr",{style:{margin:"12px 0"}},null,-1),Bn={key:0,class:"data-url-output"},Nn=b("hr",{style:{margin:"12px 0"}},null,-1),Sn={__name:"QRSimpleView",setup(t){const e=$([{label:"Low - 7%",value:"low"},{label:"Medium - 15%",value:"medium"},{label:"Quartile - 25%",value:"quartile"},{label:"High - 30%",value:"high"}]),i=$(["image/png","image/jpeg","image/webp"]),n=$({value:"peferb/fun-utils",maskPattern:1,version:3,width:250,color:{light:"#FFFFFF",dark:"#000000"},errorCorrectionLevel:"high",fileType:"image/png",quality:1}),r=$({show:!1,data:null}),o=a=>navigator.clipboard.writeText(a);return(a,s)=>(L(),_("div",hn,[M(Zt,null,{icon:vt(()=>[M(ne)]),default:vt(()=>[W(" Simple QR generator ")]),_:1}),mn,b("div",pn,[wn,j(b("input",{id:"input-value","onUpdate:modelValue":s[0]||(s[0]=l=>n.value.value=l),type:"text"},null,512),[[dt,n.value.value]]),M(G,{id:"input-width",label:"Width",modelValue:n.value.width,"onUpdate:modelValue":s[1]||(s[1]=l=>n.value.width=l)},null,8,["modelValue"]),M(G,{id:"input-mask",label:"Mask",modelValue:n.value.maskPattern,"onUpdate:modelValue":s[2]||(s[2]=l=>n.value.maskPattern=l),min:1,max:7},null,8,["modelValue"]),M(G,{id:"input-version",label:"Version",modelValue:n.value.version,"onUpdate:modelValue":s[3]||(s[3]=l=>n.value.version=l),min:1,max:40},null,8,["modelValue"]),M(It,{id:"input-color-1",label:"Color 1",modelValue:n.value.color.light,"onUpdate:modelValue":s[4]||(s[4]=l=>n.value.color.light=l)},null,8,["modelValue"]),M(It,{id:"input-color-2",label:"Color 2",modelValue:n.value.color.dark,"onUpdate:modelValue":s[5]||(s[5]=l=>n.value.color.dark=l)},null,8,["modelValue"]),yn,j(b("select",{id:"input-correction-level","onUpdate:modelValue":s[6]||(s[6]=l=>n.value.errorCorrectionLevel=l)},[(L(!0),_(Bt,null,Nt(e.value,l=>(L(),_("option",{value:l.value},H(l.label),9,Cn))),256))],512),[[bt,n.value.errorCorrectionLevel]]),En,j(b("select",{id:"input-file-type","onUpdate:modelValue":s[7]||(s[7]=l=>n.value.fileType=l)},[(L(!0),_(Bt,null,Nt(i.value,l=>(L(),_("option",{value:l},H(l),9,vn))),256))],512),[[bt,n.value.fileType]]),M(G,{id:"input-quality",label:"Quality",type:"float",modelValue:n.value.quality,"onUpdate:modelValue":s[8]||(s[8]=l=>n.value.quality=l),min:0,max:1},null,8,["modelValue"])]),bn,b("button",{onClick:s[9]||(s[9]=l=>r.value.show=!r.value.show),style:{"margin-right":"8px"}}," Show data "),b("button",{onClick:s[10]||(s[10]=l=>o(r.value.data)),style:{"margin-right":"8px"}}," Copy data to clipboard "),r.value.show?(L(),_("div",Bn,H(r.value.data),1)):te("",!0),Nn,M(ee(rn),{value:n.value.value,"mask-pattern":n.value.maskPattern,errorCorrectionLevel:n.value.errorCorrectionLevel,version:n.value.version,width:n.value.width,color:n.value.color,margin:0,type:n.value.fileType,quality:n.value.quality,onChange:s[11]||(s[11]=l=>r.value.data=l),style:{"margin-top":"12px"}},null,8,["value","mask-pattern","errorCorrectionLevel","version","width","color","type","quality"])]))}};export{Sn as default};
